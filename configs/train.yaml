defaults:
  - _self_
  - dataset: tiny_imagenet
  - model: vit_lite
  - system: local_mac # Default to local dev
  - experiment: null # Optional experiment overrides

dataloader:
  batch_size: 256
  drop_last: true
  # System params will be merged here or used separately in train.py

optimizer:
  base_lr: 5e-4
  weight_decay: 0.15
  betas: [0.9, 0.95]

train:
  mask_ratio: 0.75
  warmup_epochs: 20
  epochs: 1200
  save_interval: 100
  log_interval: 10
  max_steps: null # If set, limits the number of steps per epoch (useful for debugging)

paths:
  # project_root is the directory where the command was run (usually the repo root)
  project_root: ${hydra:runtime.cwd}
  data_dir: ${paths.project_root}/data
  output_dir: ${paths.project_root}/outputs/${now:%Y-%m-%d}/${now:%H-%M-%S}

hydra:
  run:
    dir: ${paths.output_dir}
  sweep:
    dir: ${paths.project_root}/multirun/${now:%Y-%m-%d}/${now:%H-%M-%S}
    subdir: ${hydra.job.num}
  job:
    chdir: True # Hydra will create the dir and move there

seed: 42
device: ??? # Will be set to mps, cuda, or cpu in train.py

wandb:
  project: m2-ovo-mae
  mode: online # Use 'offline' or 'disabled' to skip cloud syncing
